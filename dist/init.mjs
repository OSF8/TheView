"use strict";(self.webpackChunkknight_frank_the_view=self.webpackChunkknight_frank_the_view||[]).push([[410],{6171:(e,t,s)=>{s.d(t,{B:()=>o});var i,n=s(3071);!function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop",e.desktopWide="desktop-wide"}(i||(i={}));const o=new n.s({mobile:375,tablet:768,desktop:1024,"desktop-wide":1600})},3028:(e,t,s)=>{s.d(t,{$:()=>l}),s(9601);var i=s(3493),n=s.n(i),o=s(7327);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},c.apply(this,arguments)}const r=Object.freeze({maxDuration:600,minDuration:300,throttleTime:100,easings:{linear:e=>e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e}});class a extends o.T{constructor(){super(),this.scrollToCenter=(e,t={})=>{const{pageYOffset:s}=window,{clientHeight:i}=document.documentElement,{top:n}=e.getBoundingClientRect(),o=s+n-i/2;this.scroll(o,t)},this.scrollToElementsTop=(e,t=0,s={})=>{const{pageYOffset:i}=window,{top:n}=e.getBoundingClientRect(),o=n+i+t,a=Math.max(Math.min(Math.abs(document.documentElement.scrollTop-o),r.maxDuration),r.minDuration);this.scroll(o,c({duration:a},s))},this.scroll=(e=0,t={})=>{this.animateScroll(e,t)};const e=n()(this.emit,r.throttleTime);window.addEventListener("scroll",(()=>e()),{passive:!0})}animateScroll(e,t={}){const s={duration:r.minDuration,easingFunction:r.easings.easeInOutQuart},{duration:i,easingFunction:n}=c(c({},s),t),o=window.pageYOffset,a="now"in window.performance?performance.now():(new Date).getTime(),l=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),d=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,h=e,m=Math.round(l-h<d?l-d:h);"requestAnimationFrame"in window?function e(){const t="now"in window.performance?performance.now():(new Date).getTime(),s=Math.min(1,(t-a)/i),c=n(s);window.scroll(0,Math.ceil(c*(m-o)+o)),Math.ceil(window.pageYOffset)!==m&&requestAnimationFrame(e)}():window.scroll(0,m)}}const l=new a},7327:(e,t,s)=>{s.d(t,{T:()=>i});class i{constructor(){this._subscribers={},this.subscribe=(e,t)=>{this._subscribers[e]=t},this.unsubscribe=e=>{e&&this._subscribers[e]&&delete this._subscribers[e]},this.emit=(e,t)=>{Object.keys(this._subscribers).forEach((s=>{s!==e&&this._subscribers[s](t)}))}}}},5325:(e,t,s)=>{s(4916),s(4723);var i=s(2668),n=s(7480);const o=new class{constructor(){this.parent=document.head,this.tag=document.createElement("style"),this.elements={},this.setStyles=({id:e,selector:t,css:s})=>{this.elements[e]={selector:t,css:s},this._updateTag()},this._updateTag=()=>{const{elements:e}=this;this.tag.innerHTML=Object.keys(e).map((t=>`${e[t].selector} { ${e[t].css} }`)).join(" ")},this.remove=e=>{this.elements[e]&&(delete this.elements[e],this._updateTag())},this.parent.appendChild(this.tag)}};var c=s(6171);const r=()=>{const e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};var a=s(3028);(new class{constructor(){this.config=window.appConfig||"",this.id=(0,n.x0)(10),this._setViewportSize=()=>{o.setStyles({id:this.id+"v",selector:".body",css:`--viewport-height: ${window.innerHeight}px;`})},this._setScrollbarSize=()=>{o.setStyles({id:this.id+"s",selector:".body",css:`--scrollbar: ${r()}px;`})},this._watchScroll=()=>{let e=window.pageYOffset;a.$.subscribe(this.id+"scroll",(()=>{e<=window.pageYOffset?document.documentElement.classList.add("is-scrolled-down"):document.documentElement.classList.remove("is-scrolled-down"),window.innerHeight+window.pageYOffset+50>=document.body.clientHeight?document.documentElement.classList.add("is-end-of-page"):document.documentElement.classList.remove("is-end-of-page"),e=window.pageYOffset}))}}init(){i.rC.init(),this._setScrollbarSize(),this._watchViewport(),this._watchScroll()}_watchViewport(){this._setViewportSize(),window.location.href.match("EPiServer/CMS")?document.body.classList.add("in-cms"):c.B.subscribeOnResize(this._setViewportSize)}}).init()}},e=>{e.O(0,[179],(()=>e(e.s=5325))),e.O()}]);
//# sourceMappingURL=init.mjs.map