"use strict";(self.webpackChunkknight_frank_the_view=self.webpackChunkknight_frank_the_view||[]).push([[410],{3800:(e,t,s)=>{s(4916),s(4723);var i=s(2668),n=s(7480);const o=new class{constructor(){this.parent=document.head,this.tag=document.createElement("style"),this.elements={},this.setStyles=({id:e,selector:t,css:s})=>{this.elements[e]={selector:t,css:s},this._updateTag()},this._updateTag=()=>{const{elements:e}=this;this.tag.innerHTML=Object.keys(e).map((t=>`${e[t].selector} { ${e[t].css} }`)).join(" ")},this.remove=e=>{this.elements[e]&&(delete this.elements[e],this._updateTag())},this.parent.appendChild(this.tag)}};var c,r=s(3071);!function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop",e.desktopWide="desktop-wide"}(c||(c={}));const a=new r.s({mobile:375,tablet:768,desktop:1024,"desktop-wide":1600}),l=()=>{const e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};s(9601);var d=s(3493),h=s.n(d);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},m.apply(this,arguments)}const u=Object.freeze({maxDuration:600,minDuration:300,throttleTime:100,easings:{linear:e=>e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e}}),w=new class extends class{constructor(){this._subscribers={},this.subscribe=(e,t)=>{this._subscribers[e]=t},this.unsubscribe=e=>{e&&this._subscribers[e]&&delete this._subscribers[e]},this.emit=(e,t)=>{Object.keys(this._subscribers).forEach((s=>{s!==e&&this._subscribers[s](t)}))}}}{constructor(){super(),this.scrollToCenter=(e,t={})=>{const{pageYOffset:s}=window,{clientHeight:i}=document.documentElement,{top:n}=e.getBoundingClientRect(),o=s+n-i/2;this.scroll(o,t)},this.scrollToElementsTop=(e,t=0,s={})=>{const{pageYOffset:i}=window,{top:n}=e.getBoundingClientRect(),o=n+i+t,c=Math.max(Math.min(Math.abs(document.documentElement.scrollTop-o),u.maxDuration),u.minDuration);this.scroll(o,m({duration:c},s))},this.scroll=(e=0,t={})=>{this.animateScroll(e,t)};const e=h()(this.emit,u.throttleTime);window.addEventListener("scroll",(()=>e()),{passive:!0})}animateScroll(e,t={}){const s={duration:u.minDuration,easingFunction:u.easings.easeInOutQuart},{duration:i,easingFunction:n}=m(m({},s),t),o=window.pageYOffset,c="now"in window.performance?performance.now():(new Date).getTime(),r=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),a=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,l=e,d=Math.round(r-l<a?r-a:l);"requestAnimationFrame"in window?function e(){const t="now"in window.performance?performance.now():(new Date).getTime(),s=Math.min(1,(t-c)/i),r=n(s);window.scroll(0,Math.ceil(r*(d-o)+o)),Math.ceil(window.pageYOffset)!==d&&requestAnimationFrame(e)}():window.scroll(0,d)}};(new class{constructor(){this.config=window.appConfig||"",this.id=(0,n.x0)(10),this._setViewportSize=()=>{o.setStyles({id:this.id+"v",selector:".body",css:`--viewport-height: ${window.innerHeight}px;`})},this._setScrollbarSize=()=>{o.setStyles({id:this.id+"s",selector:".body",css:`--scrollbar: ${l()}px;`})},this._watchScroll=()=>{let e=window.pageYOffset;w.subscribe(this.id+"scroll",(()=>{e<=window.pageYOffset?document.documentElement.classList.add("is-scrolled-down"):document.documentElement.classList.remove("is-scrolled-down"),window.innerHeight+window.pageYOffset+50>=document.body.clientHeight?document.documentElement.classList.add("is-end-of-page"):document.documentElement.classList.remove("is-end-of-page"),e=window.pageYOffset}))}}init(){i.rC.init(),this._setScrollbarSize(),this._watchViewport(),this._watchScroll()}_watchViewport(){this._setViewportSize(),window.location.href.match("EPiServer/CMS")?document.body.classList.add("in-cms"):a.subscribeOnResize(this._setViewportSize)}}).init()}},e=>{e.O(0,[402,37],(()=>e(e.s=3800))),e.O()}]);
//# sourceMappingURL=init.mjs.map