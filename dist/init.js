"use strict";(self.webpackChunkknight_frank_the_view=self.webpackChunkknight_frank_the_view||[]).push([[410],{3800:(e,t,i)=>{var s=i(2668),n=i(7480);const o=new class{constructor(){this.parent=document.head,this.tag=document.createElement("style"),this.elements={},this.setStyles=e=>{let{id:t,selector:i,css:s}=e;this.elements[t]={selector:i,css:s},this._updateTag()},this._updateTag=()=>{const{elements:e}=this;this.tag.innerHTML=Object.keys(e).map((t=>"".concat(e[t].selector," { ").concat(e[t].css," }"))).join(" ")},this.remove=e=>{this.elements[e]&&(delete this.elements[e],this._updateTag())},this.parent.appendChild(this.tag)}};var c,r=i(3071);!function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop",e.desktopWide="desktop-wide"}(c||(c={}));const l=new r.s({mobile:375,tablet:768,desktop:1024,"desktop-wide":1600}),a=()=>{const e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};var d=i(3493),h=i.n(d);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},m.apply(this,arguments)}const u=Object.freeze({maxDuration:600,minDuration:300,throttleTime:100,easings:{linear:e=>e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e}}),w=new class extends class{constructor(){this._subscribers={},this.subscribe=(e,t)=>{this._subscribers[e]=t},this.unsubscribe=e=>{e&&this._subscribers[e]&&delete this._subscribers[e]},this.emit=(e,t)=>{Object.keys(this._subscribers).forEach((i=>{i!==e&&this._subscribers[i](t)}))}}}{constructor(){var e;super(),e=this,this.scrollToCenter=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{pageYOffset:s}=window,{clientHeight:n}=document.documentElement,{top:o}=t.getBoundingClientRect(),c=s+o-n/2;e.scroll(c,i)},this.scrollToElementsTop=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{pageYOffset:n}=window,{top:o}=t.getBoundingClientRect(),c=o+n+i,r=Math.max(Math.min(Math.abs(document.documentElement.scrollTop-c),u.maxDuration),u.minDuration);e.scroll(c,m({duration:r},s))},this.scroll=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.animateScroll(t,i)};const t=h()(this.emit,u.throttleTime);window.addEventListener("scroll",(()=>t()),{passive:!0})}animateScroll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={duration:u.minDuration,easingFunction:u.easings.easeInOutQuart},{duration:s,easingFunction:n}=m(m({},i),t),o=window.pageYOffset,c="now"in window.performance?performance.now():(new Date).getTime(),r=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),l=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,a=e,d=Math.round(r-a<l?r-l:a);"requestAnimationFrame"in window?function e(){const t="now"in window.performance?performance.now():(new Date).getTime(),i=Math.min(1,(t-c)/s),r=n(i);window.scroll(0,Math.ceil(r*(d-o)+o)),Math.ceil(window.pageYOffset)!==d&&requestAnimationFrame(e)}():window.scroll(0,d)}};(new class{constructor(){this.config=window.appConfig||"",this.id=(0,n.x0)(10),this._setViewportSize=()=>{o.setStyles({id:this.id+"v",selector:".body",css:"--viewport-height: ".concat(window.innerHeight,"px;")})},this._setScrollbarSize=()=>{o.setStyles({id:this.id+"s",selector:".body",css:"--scrollbar: ".concat(a(),"px;")})},this._watchScroll=()=>{let e=window.pageYOffset;w.subscribe(this.id+"scroll",(()=>{e<=window.pageYOffset?document.documentElement.classList.add("is-scrolled-down"):document.documentElement.classList.remove("is-scrolled-down"),window.innerHeight+window.pageYOffset+50>=document.body.clientHeight?document.documentElement.classList.add("is-end-of-page"):document.documentElement.classList.remove("is-end-of-page"),e=window.pageYOffset}))}}init(){s.rC.init(),this._setScrollbarSize(),this._watchViewport(),this._watchScroll()}_watchViewport(){this._setViewportSize(),window.location.href.match("EPiServer/CMS")?document.body.classList.add("in-cms"):l.subscribeOnResize(this._setViewportSize)}}).init()}},e=>{e.O(0,[402,37],(()=>e(e.s=3800))),e.O()}]);
//# sourceMappingURL=init.js.map