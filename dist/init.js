"use strict";(self.webpackChunkknight_frank_the_view=self.webpackChunkknight_frank_the_view||[]).push([[410],{6171:(e,t,s)=>{s.d(t,{B:()=>o});var i,n=s(3071);!function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop",e.desktopWide="desktop-wide"}(i||(i={}));const o=new n.s({mobile:375,tablet:768,desktop:1024,"desktop-wide":1600})},8447:(e,t,s)=>{var i=s(2668),n=s(7480);const o=new class{constructor(){this.parent=document.head,this.tag=document.createElement("style"),this.elements={},this.setStyles=e=>{let{id:t,selector:s,css:i}=e;this.elements[t]={selector:s,css:i},this._updateTag()},this._updateTag=()=>{const{elements:e}=this;this.tag.innerHTML=Object.keys(e).map((t=>"".concat(e[t].selector," { ").concat(e[t].css," }"))).join(" ")},this.remove=e=>{this.elements[e]&&(delete this.elements[e],this._updateTag())},this.parent.appendChild(this.tag)}};var c=s(6171);const r=()=>{const e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};var l=s(3493),a=s.n(l);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},d.apply(this,arguments)}const h=Object.freeze({maxDuration:600,minDuration:300,throttleTime:100,easings:{linear:e=>e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e}}),m=new class extends class{constructor(){this._subscribers={},this.subscribe=(e,t)=>{this._subscribers[e]=t},this.unsubscribe=e=>{e&&this._subscribers[e]&&delete this._subscribers[e]},this.emit=(e,t)=>{Object.keys(this._subscribers).forEach((s=>{s!==e&&this._subscribers[s](t)}))}}}{constructor(){var e;super(),e=this,this.scrollToCenter=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{pageYOffset:i}=window,{clientHeight:n}=document.documentElement,{top:o}=t.getBoundingClientRect(),c=i+o-n/2;e.scroll(c,s)},this.scrollToElementsTop=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{pageYOffset:n}=window,{top:o}=t.getBoundingClientRect(),c=o+n+s,r=Math.max(Math.min(Math.abs(document.documentElement.scrollTop-c),h.maxDuration),h.minDuration);e.scroll(c,d({duration:r},i))},this.scroll=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.animateScroll(t,s)};const t=a()(this.emit,h.throttleTime);window.addEventListener("scroll",(()=>t()),{passive:!0})}animateScroll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={duration:h.minDuration,easingFunction:h.easings.easeInOutQuart},{duration:i,easingFunction:n}=d(d({},s),t),o=window.pageYOffset,c="now"in window.performance?performance.now():(new Date).getTime(),r=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),l=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,a=e,m=Math.round(r-a<l?r-l:a);"requestAnimationFrame"in window?function e(){const t="now"in window.performance?performance.now():(new Date).getTime(),s=Math.min(1,(t-c)/i),r=n(s);window.scroll(0,Math.ceil(r*(m-o)+o)),Math.ceil(window.pageYOffset)!==m&&requestAnimationFrame(e)}():window.scroll(0,m)}};(new class{constructor(){this.config=window.appConfig||"",this.id=(0,n.x0)(10),this._setViewportSize=()=>{o.setStyles({id:this.id+"v",selector:".body",css:"--viewport-height: ".concat(window.innerHeight,"px;")})},this._setScrollbarSize=()=>{o.setStyles({id:this.id+"s",selector:".body",css:"--scrollbar: ".concat(r(),"px;")})},this._watchScroll=()=>{let e=window.pageYOffset;m.subscribe(this.id+"scroll",(()=>{e<=window.pageYOffset?document.documentElement.classList.add("is-scrolled-down"):document.documentElement.classList.remove("is-scrolled-down"),window.innerHeight+window.pageYOffset+50>=document.body.clientHeight?document.documentElement.classList.add("is-end-of-page"):document.documentElement.classList.remove("is-end-of-page"),e=window.pageYOffset}))}}init(){i.rC.init(),this._setScrollbarSize(),this._watchViewport(),this._watchScroll()}_watchViewport(){this._setViewportSize(),window.location.href.match("EPiServer/CMS")?document.body.classList.add("in-cms"):c.B.subscribeOnResize(this._setViewportSize)}}).init()}},e=>{e.O(0,[179],(()=>e(e.s=8447))),e.O()}]);
//# sourceMappingURL=init.js.map